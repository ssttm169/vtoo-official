"use strict";(self.webpackChunkvtoo_official=self.webpackChunkvtoo_official||[]).push([[586],{5400:(e,t,s)=>{s.r(t),s.d(t,{default:()=>x});var a=s(758),o=s(7041),n=s(6997),r=s(2829),i=s.n(r),l=(s(7759),s(384)),c=s(8026),m=s(6423),d=s(1797),u=s(6070);const h=e=>{let{children:t}=e;const{siteConfig:s}=(0,m.A)(),[o,n]=(0,a.useState)(""),r=s.customFields.apiBaseUrl,i=l.A.canUseDOM?`${r}/api`:"";return(0,a.useEffect)((()=>{(async()=>{try{const e=await fetch(`${i}/csrf-token`,{method:"GET",credentials:"include"});if(!e.ok)throw new Error("Network response was not ok");const t=await e.json();n(t.csrfToken)}catch(e){console.error("Error fetching CSRF token:",e)}})()}),[]),(0,a.useEffect)((()=>{if(o){const e=window.fetch;return window.fetch=function(t,s){return void 0===s&&(s={}),s.headers=s.headers||{},s.headers["X-CSRF-Token"]=o,e(t,s)},()=>{window.fetch=e}}}),[o]),(0,u.jsx)(u.Fragment,{children:t})},p=e=>{let{isOpen:t,onClose:s,children:a}=e;return t?(0,u.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:(0,u.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full",children:[a,(0,u.jsx)("div",{className:"text-right",children:(0,u.jsx)("button",{style:{border:"none"},onClick:s,className:"submit-btn mt-4  bg-[#663399] text-white font-bold py-2.5 px-4 rounded ",children:"Close"})})]})}):null},x=()=>{const{siteConfig:e}=(0,m.A)(),t=e.customFields.apiBaseUrl,s=e.customFields.apiToken,[r,x]=(0,a.useState)(null),[f,b]=(0,a.useState)(null),[g,j]=(0,a.useState)(!1),w=l.A.canUseDOM?`${t}/api`:"",y=["image/jpeg","image/png"],v=n.Ik().shape({full_name:n.Yj().required("Please Enter Your Name"),email:n.Yj().email("Incorrect mailbox format").required("Please enter email"),subject:n.Yj().required("Please enter subject"),content:n.Yj().required("Please enter content"),captcha:n.Yj().required("Please enter captcha"),attachments:n.gl().nullable().test("fileFormat","Unsupported Format",(e=>!e||Array.from(e).every((e=>y.includes(e.type))))).test("fileSize","Max allowed size is 1MB",(e=>!e||Array.from(e).every((e=>e.size<=1048576)))).test("fileLimit","Max allowed 2 images",(e=>!e||Array.from(e).length<3))});let N="https://api.vtoo.app/api/captcha";const[k,S]=(0,a.useState)(N),[C,F]=(0,a.useState)(!0),A=()=>{F((e=>!e)),setTimeout((()=>{S(`${N}?t=${Date.now()}`),F((e=>!e))}))};return(0,u.jsxs)(c.A,{title:"Vtoo Support: Contact Us for Assistance",description:"Get support for using Vtoo. Submit your questions or suggestions via the contact form, and we\u2019ll respond promptly!",children:[(0,u.jsx)(d.A,{children:(0,u.jsx)("meta",{name:"keywords",content:"Vtoo support, customer service Vtoo, contact Vtoo, Vtoo assistance, user suggestions Vtoo, Vtoo inquiries, support form Vtoo, Vtoo help desk"})}),(0,u.jsx)(h,{children:(0,u.jsxs)("div",{className:"custom-page",children:[(0,u.jsx)("div",{style:{padding:"10px"}}),(0,u.jsx)("div",{children:(0,u.jsxs)("main",{className:"custom-page-main p-4",children:[(0,u.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Support"}),(0,u.jsx)("p",{className:"text-gray-800",children:"If you have any questions when using vtoo or you have better suggestions, please submit the form to contact us, and we will contact you as soon as possible after receiving it!"}),(0,u.jsx)(o.l1,{initialValues:{full_name:"",email:"",subject:"",content:"",captcha:"",attachments:null},validationSchema:v,onSubmit:async(e,t)=>{let{setSubmitting:a,resetForm:o}=t;b(null);if(!await(async e=>{try{const t=await fetch(`${w}/captcha/verify`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Origin:"https://vtoo.app"},body:JSON.stringify({captcha:e})});if(!t.ok)throw new Error("\u9a8c\u8bc1\u7801\u9a8c\u8bc1\u5931\u8d25");return(await t.json()).valid}catch(t){return console.error("\u9a8c\u8bc1\u7801\u9a8c\u8bc1\u9519\u8bef:",t),!1}})(e.captcha))return b("\u9a8c\u8bc1\u7801\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165"),a(!1),void document.querySelector("#captchaImg").click();const n=Object.keys(e).reduce(((t,s)=>(t[s]=i().sanitize(e[s]),t)),{});console.log("sanitizedValues",n);let r=[];if(e.attachments){const t=await(async e=>{try{const t=new FormData;Array.from(e).forEach((e=>{t.append("files",e)}));const a=await fetch(`${w}/upload`,{method:"POST",credentials:"include",headers:{Authorization:`Bearer ${s}`,Origin:"https://vtoo.app"},body:t});if(!a.ok)throw new Error("\u4e0a\u4f20\u56fe\u7247\u5f02\u5e38");return await a.json()}catch(t){return console.error("\u4e0a\u4f20\u56fe\u7247\u5f02\u5e38",t),setFieldError("attachments","\u4e0a\u4f20\u56fe\u7247\u5f02\u5e382"),!1}})(e.attachments);r=t.map((e=>e.id))}try{n.attachments=r?.length?r:[];const e={data:n},t=await fetch(`${w}/supports`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`,Origin:"https://vtoo.app"},body:JSON.stringify(e)});if(!t.ok)throw new Error("\u63d0\u4ea4\u5931\u8d25");await t.json();x("success"),o(),j(!0)}catch(l){console.error("\u63d0\u4ea4\u9519\u8bef:",l),x("error")}finally{a(!1)}},children:e=>{let{isSubmitting:t,setFieldValue:s}=e;return(0,u.jsxs)(o.lV,{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"full_name",className:"font-black block text-sm font-medium text-gray-700 mb-1",children:"Your Name:"}),(0,u.jsx)(o.D0,{type:"text",name:"full_name",className:" vtoo-input w-full px-3 text-base leading-10   rounded-md shadow-sm   "}),(0,u.jsx)(o.Kw,{name:"full_name",component:"div",className:"error-text text-sm mt-1"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"email",className:"font-black block text-sm font-medium text-gray-700 mb-1",children:"Email:"}),(0,u.jsx)(o.D0,{type:"email",name:"email",className:" vtoo-input w-full px-3  text-base leading-10  rounded-md shadow-sm   "}),(0,u.jsx)(o.Kw,{name:"email",component:"div",className:"error-text text-sm mt-1"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"subject",className:"font-black block text-sm font-medium text-gray-700 mb-1",children:"Subject:"}),(0,u.jsx)(o.D0,{type:"text",name:"subject",className:" vtoo-input w-full px-3  text-base leading-10  rounded-md shadow-sm   "}),(0,u.jsx)(o.Kw,{name:"subject",component:"div",className:"error-text text-sm mt-1"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"content",className:"font-black block text-sm font-medium text-gray-700 mb-1",children:"Content:"}),(0,u.jsx)(o.D0,{as:"textarea",name:"content",rows:"4",className:"vtoo-textarea w-full px-3  border text-base leading-10  rounded-md shadow-sm   "}),(0,u.jsx)(o.Kw,{name:"content",component:"div",className:"error-text text-sm mt-1"})]}),(0,u.jsxs)("div",{className:"grid-col",children:[(0,u.jsx)(o.D0,{type:"text",name:"captcha",style:{height:"44px"},className:" vtoo-input w-full px-3  text-base leading-10  rounded-md shadow-sm   "}),C&&(0,u.jsx)("img",{id:"captchaImg",className:"rounded-md  captchaCls",height:44,src:k,onClick:A}),(0,u.jsx)(o.Kw,{name:"captcha",component:"div",className:"error-text text-sm mt-1"}),f&&(0,u.jsx)("div",{className:"text-red-500 text-sm mt-1",children:f})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"attachments",className:"font-black block text-sm font-medium text-gray-700 mb-1",children:"Upload Attachment:"}),(0,u.jsx)("input",{id:"attachments",name:"attachments",type:"file",multiple:!0,accept:"image/jpeg, image/png",onChange:e=>{s("attachments",e.currentTarget.files)},className:" vtoo-input w-full px-3 text-base leading-10 rounded-md shadow-sm"}),(0,u.jsx)(o.Kw,{name:"attachments",component:"div",className:"error-text text-sm mt-1"})]}),(0,u.jsx)("button",{type:"submit",disabled:t,style:{border:"none",height:"44px"},className:"submit-btn text-base leading-10 w-full bg-[#663399] text-white font-bold px-4 rounded-md focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Submitting...":"Submit"}),"error"===r&&(0,u.jsx)("div",{className:"text-red-500 text-sm mt-2",children:"Submission failed, please try again later."})]})}}),(0,u.jsxs)(p,{isOpen:g,onClose:()=>j(!1),children:[(0,u.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Submit successfully"}),(0,u.jsx)("p",{children:"Your form has been submitted successfully. We will get back to you shortly."})]})]})})]})})]})}}}]);